
<!-- 
      BRAINSTORM:
================================================
      
      Build the foundation first. Then focus on placement of elements and design. This is paramount.

      There are no predetermined HTML or CSS elements. The freedom is given to me.

      The only items being generated in the project are the e-mails in your inbox. It appears that the other elements in the inbox page of g-mail does not have to be functional, like the options at the top or the sorting categories on the left-hand side (inbox, starred, spam, trash, etc.).

      Initial Observations:
      1. There are arrays filled with content. We will implement the content of each e-mail by accessing the arrays body, subject, and sender. Content will most likely be selected randomly.

      2. The function generateMessage() considers all three content arrays body, subject, and sender. generateMessage() returns message.

      3. All of the generated messages by the script are pushed into the array geemails.

      4. Because the messages created by js/mail-generator.js are stored in the window, I can access them in the <script></script> tag in my HTML.

      5. querySelectorAll() is probably the way to go because any new messages we generate need to be considered. Executing actions to each message by className allows us to automate things.




      TO-DO LIST:
      1. Create another <li> element with the DOM for currentGeemail.sender. 
      DAY 1                                                     ✅

      2. Try using the CSS Grid Layout to have sender/subject elements adjacent to each other. 
      DAY 2                                                     ✅                       

      3. Find a way to modify the size of each grid row (grid-template-rows possibly?) to decrease the gap between each inbox message.          
      DAY 2:      FOUND AN ALTERNATIVE    ✅

      3. addEventListener to the 'displayFullMessage' preview to expand the message fully. 
      DAY 2:                                                     ✅

            -     This should be displayed onClick:
                        Date
                        Sender
                        Subject

                        Woke taxidermy narwhal craft beer wayfarers copper mug pop-up offal 8-bit echo park. Brunch tousled jianbing, wolf kale chips raclette echo park unicorn four loko hammock +1 pabst selfies. Glossier kale chips kinfolk cold-pressed fashion axe selvage copper mug narwhal kogi selfies try-hard food truck banh mi post-ironic portland. Lo-fi truffaut waistcoat viral woke, put a bird on it vegan. Raw denim pork belly truffaut, drinking vinegar health goth wolf synth swag. Literally waistcoat ramps fingerstache, kogi direct trade trust fund small batch. Subway tile pok pok banh mi normcore thundercats.

      4. Create side menu with a similar grid layout. Make the side bar fixed on the screen as you scroll down. 
      DAY ?:                                                     ❌

            Side menu components:
            -     Inbox
            -     Promotions
            -     Starred
            -     Drafts
            -     Spam
            -     Trash
      
      5. Create a non-functional search bar component above the inbox to filter through messages. 
      DAY ?:                                                      ❌
      
      6. Organize elements and focus on aesthetics. 
      DAY ?:                                                      ❌                                                       



      Project Goals:

      1. Only the subject of messages will be displayed initially.  Content of each message will be displayed when each element is clicked. If possible, limit the amount of messages that can be clicked on at once.

================================================
 -->


<html>
	<head>
		<script src="js/mail-generator.js"></script>
            <link href="css/style.css" rel="stylesheet" media="screen">
            <title id="titleTag">(0) Unread Messages</title>
            
<!-- 
================================================
      JavaScript
================================================
 -->

    <script>
      window.onload = function() {
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        
            // Awesome visual console method for logging arrays or comparing several arrays.
            console.table( window.geemails );

            // windows.geemail is an object that contains:        date, subject, sender, and body.
            console.log( window.geemails[0] );




            //          FUNCTION FOR ASSIGNING THE COMPONENTS OF EACH E-MAIL IN  js/mail-generator.js/      ( DRY Principle )
            function createElement ( parentElement, typeElement, classElement, content ) {
                  var newElement = document.createElement( typeElement );
                  newElement.className = classElement;
                  newElement.innerHTML = content;
                  parentElement.appendChild( newElement );

            }



            //          MANIPULATION OF STUB DATA IN js/mail-generator.js/
            for ( var i = 0; i < window.geemails.length; i ++ ) {
                  var getInboxWrapper = document.getElementById( 'wrapInbox' );
                  var createDisplayWrapper = document.createElement( 'div' );
                  var createDisplayElement = document.createElement( 'div' );
                  var createFullMessage = document.createElement( 'div' );
                  var currentGeemail = window.geemails[i];

                  createDisplayWrapper.className = 'messageWrapper';
                  getInboxWrapper.appendChild( createDisplayWrapper );

                  createDisplayElement.className = 'displayMessagePrev';
                  createDisplayWrapper.appendChild( createDisplayElement );

                  console.log( '%c CURRENT GMAIL:', 'color: orange; font-weight: bold; font-size: 1.3em;' )
                  console.log( currentGeemail );
                  
                  createElement( createDisplayElement, 'div', 'sender', currentGeemail.sender );
                  createElement( createDisplayElement, 'div', 'subject', currentGeemail.subject );
                  createElement( createDisplayElement, 'div', 'content', currentGeemail.body );

                  createElement( createDisplayElement, 'div', 'date', currentGeemail.date );
                  createElement( 
                        createDisplayWrapper, 
                        'div', 
                        'displayFullMessage', 
                        `${ currentGeemail.sender }<br>
                        ${ currentGeemail.subject }<br>
                        ${ currentGeemail.date }<br><br>
                        ${ currentGeemail.body }`
                  );

                  var getFullMessage = document.getElementsByClassName( 'displayFullMessage' );
                  createDisplayWrapper.addEventListener( 'click', toggleMessage );

            }

            function toggleMessage() {
                  var current = this.querySelectorAll( '.displayFullMessage' )[0];
                  var currentDisplay = current.style.display;
                  // console.log( current, current, current, current, current );
                  if ( current.style.display !== 'block' ) {
                        current.style.display = 'block';
                  } else if ( current.style.display === 'block' ) {
                        current.style.display = 'none';
                  }

            }



            //          UPDATING THE TITLE TAG:
            var getTitle = document.getElementById( 'titleTag' );

            function updateTitle( element ) {
                  element.innerHTML = `(${ window.geemails.length }) Unread Messages`;
                  
                  console.log( '%c Document title was changed!', 'color: orange; font-weight: bold; font-size: 1.3em;' )
                  console.log( `Element #${ element.id } changed to: ${ element.innerHTML }.` );

            }

            updateTitle( getTitle );
            console.log( `Amount of unread messages: ${ window.geemails.length }.` );
            
      }

    </script>

<!-- 
================================================
      JavaScript
================================================
 -->

	</head>
	<body>
		<div class="container" id="main">
			<div class="wrapper" id="wrapInbox">
                        <!-- <div class="wrapper" id="wrapSender"></div>
                        <div class="wrapper" id="wrapSubject"></div>
                        <div class="wrapper" id="wrapDate"></div> -->
                  </div>
		</div>
	</body>
</html>